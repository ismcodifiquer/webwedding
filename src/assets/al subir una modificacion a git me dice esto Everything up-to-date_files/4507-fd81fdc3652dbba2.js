!function(){try{var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},t=Error().stack;t&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[t]="60dacc90-d27e-4fd8-b078-d1aa270f7ae4",e._sentryDebugIdIdentifier="sentry-dbid-60dacc90-d27e-4fd8-b078-d1aa270f7ae4")}catch(e){}}();"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4507],{49544:function(e,t){t.DF={prefix:"far",iconName:"eye",icon:[576,512,[128065],"f06e","M288 80c-65.2 0-118.8 29.6-159.9 67.7C89.6 183.5 63 226 49.4 256c13.6 30 40.2 72.5 78.6 108.3C169.2 402.4 222.8 432 288 432s118.8-29.6 159.9-67.7C486.4 328.5 513 286 526.6 256c-13.6-30-40.2-72.5-78.6-108.3C406.8 109.6 353.2 80 288 80zM95.4 112.6C142.5 68.8 207.2 32 288 32s145.5 36.8 192.6 80.6c46.8 43.5 78.1 95.4 93 131.1c3.3 7.9 3.3 16.7 0 24.6c-14.9 35.7-46.2 87.7-93 131.1C433.5 443.2 368.8 480 288 480s-145.5-36.8-192.6-80.6C48.6 356 17.3 304 2.5 268.3c-3.3-7.9-3.3-16.7 0-24.6C17.3 208 48.6 156 95.4 112.6zM288 336c44.2 0 80-35.8 80-80s-35.8-80-80-80c-.7 0-1.3 0-2 0c1.3 5.1 2 10.5 2 16c0 35.3-28.7 64-64 64c-5.5 0-10.9-.7-16-2c0 .7 0 1.3 0 2c0 44.2 35.8 80 80 80zm0-208a128 128 0 1 1 0 256 128 128 0 1 1 0-256z"]},t.Md=t.DF},7552:function(e,t,l){l.d(t,{D:function(){return d}});var n=l(97458),s=l(52983),r=l(77267),i=l(25929),o=l(77954),c=l(77837),a=l.n(c);let d=e=>{let{children:t,fetchNextPage:l,hasNextPage:c,showLoadingState:d,itemsToRender:u,loadingPlaceholder:m}=e,x=(0,s.useRef)(l);x.current=l;let h=(0,s.useRef)(a()(()=>x.current(),300)),f=(0,s.useRef)(null);(0,r.S)(f,h.current,{rootMargin:"50px",threshold:0});let v=m||(0==u.length?(0,n.jsx)(i.ZP,{className:"py-sm",children:(0,n.jsx)(o.Z,{animateLines:!1,blockCount:12,divider:!0})}):(0,n.jsx)(i.ZP,{className:"py-md",children:(0,n.jsx)(o.Z,{animateLines:!1,blockCount:1})}));return(0,n.jsxs)(n.Fragment,{children:[t,d&&v,u.length>0&&c&&(0,n.jsx)("div",{ref:f,className:"border border-transparent"})]})}},36496:function(e,t,l){l.d(t,{j:function(){return a}});var n=l(97458),s=l(52983),r=l(59021),i=l(51253),o=l(49544),c=l(96299);let a=s.memo(e=>{var t,l;let{threadAccess:s,socialInfo:a,textVariant:d,textColor:u,className:m}=e;if(!s||!a||s<c.uv.PUBLIC_READ)return null;let x=null!==(t=a.view_count)&&void 0!==t?t:0,h=null!==(l=a.fork_count)&&void 0!==l?l:0;return(0,n.jsxs)(n.Fragment,{children:[x>0&&(0,n.jsx)(r.W,{icon:o.Md,count:x,textColor:u,textVariant:d,className:m}),h>0&&(0,n.jsx)(r.W,{icon:i.MD,count:h,textColor:u,textVariant:d,className:m})]})})},86634:function(e,t,l){var n=l(97458),s=l(52983),r=l(31737),i=l(28492),o=l(10785),c=l(80937),a=l(21139),d=l(33326),u=l(61904),m=l(46563),x=l(382),h=l(78398),f=l(81773);t.Z=e=>{let{show:t,isBookmarked:l,onDelete:v,onAddToCollection:j,onSwapCollection:p,onRemoveFromCollection:C,currentCollection:g,rwToken:b,type:I}=e,{isMobileStyle:N}=(0,m.d)(),w=!l&&(I===i.W.LIBRARY||I===i.W.SEARCH)&&null!=j,[k,y]=(0,s.useState)(!1),Z=(0,r.useTranslations)("threadItem"),D=(0,r.useTranslations)("shared");if(!t)return null;let T=[{icon:c.faPlus,text:D("addToCollection"),show:w,onClick:j,testId:"thread-add-to-collection"},{icon:a.a_,text:D("swapCollections"),show:l&&null!=g&&null!=p,onClick:p,testId:"thread-swap-collection"},{icon:u.faXmark,text:D("removeFromCollection"),show:l&&null!=C&&null!=g,onClick:C,testId:"thread-remove-from-collection"},{icon:d.$,text:Z("deleteThread"),show:null!==b&&null!=v,onClick:()=>y(!0),testId:"thread-delete"}];return(null==T?void 0:T.every(e=>!e.show))?null:(0,n.jsxs)("div",{children:[(0,n.jsx)(x.G,{items:T,isMobileStyle:N,children:(0,n.jsx)(h.Z,{testId:"thread-dropdown-menu",size:"small",icon:o.faEllipsis})}),(0,n.jsx)(f.Z,{isOpen:k,onClose:()=>y(!1),message:Z("deleteThreadConfirmation"),actionList:[{text:D("nevermind"),onClick:()=>y(!1)},{text:D("confirm"),variant:"rejected",onClick:v}]})]})}},28492:function(e,t,l){l.d(t,{W:function(){return s},B:function(){return W}});var n,s,r=l(97458),i=l(52983),o=l(31737),c=l(24819),a=l.n(c),d=l(53541),u=l(41275),m=l(5299);let x=e=>{let{collections:t}=(0,m.l)();if(!e||!t)return null;let l=t.find(t=>t.uuid===e);return null!=l?l:null};var h=l(45233),f=l(55814),v=l(1809),j=l(38213),p=l(94589),C=l(37464),g=l(86634),b=l(31534),I=l.n(b),N=l(51865),w=l.n(N);let k=i.memo(e=>{let{type:t,featuredImage:l,title:n,className:i,href:o}=e;if(!l||t!==s.DISCOVER)return null;let c=(0,r.jsx)("div",{className:w()("relative h-24 w-24 flex-none overflow-hidden rounded-md",i),children:l.includes("images.unsplash.com")?(0,r.jsx)("img",{src:l,alt:n,className:"h-full w-full object-cover object-center"}):(0,r.jsx)(I(),{src:l,alt:n,sizes:"33vw",fill:!0,priority:!0,className:"object-cover object-center"})});return o?(0,r.jsx)(a(),{href:o,children:c}):c});var y=l(86231),Z=l.n(y),D=l(19381),T=l(82122),R=l(8245),S=l(59021),U=l(36496),E=l(95714);let P=Z()(()=>Promise.all([l.e(9402),l.e(9974),l.e(5349),l.e(7094),l.e(1987),l.e(4605),l.e(1559),l.e(2483),l.e(1912),l.e(2037),l.e(5559),l.e(4237)]).then(l.bind(l,55559)).then(e=>e.TimeAgoTooltip),{loadableGenerated:{webpack:()=>[55559]},ssr:!1}),A=i.memo(e=>{let{threadCount:t,threadAccess:l,lastUpdated:n,socialInfo:s,focus:i}=e,o=(0,R.k)(),{locale:c}=(0,T.z)();return(0,r.jsxs)("div",{className:"flex items-center gap-x-md",children:[!!t&&t>1&&(0,r.jsx)(S.W,{icon:E.i,count:t}),(0,r.jsx)(U.j,{socialInfo:s,threadAccess:l}),n&&(0,r.jsx)(P,{timestamp:n,translations:o,locale:c}),(0,r.jsx)(D.Z,{textColor:"light",textVariant:"tiny",focus:i})]})});var _=l(80937),L=l(25929),O=l(11556),z=l(78398);let M=e=>{let{idx:t,title:l,preview:n,threadCount:c,lastUpdated:b,href:I="/",rwToken:N,focus:w,socialInfo:y,showActionMenu:Z=!0,authorImage:D,threadAccess:T,type:R,featuredImage:S,entryUUID:U,contextUUID:E,collection:P}=e,M=x(null==P?void 0:P.uuid),{openModal:B}=(0,v.X)(),{collections:F}=(0,m.l)(),{searchTerm:W}=(0,j.p)(),{deleteThread:V}=(0,h.l)(),{removeThreadFromCollection:G}=(0,u.Fb)(),H=(0,d.useRouter)(),{trackEvent:Y}=(0,f.WS)(),X=(0,o.useTranslations)("shared"),$=(0,i.useCallback)(e=>{let{entryUUID:t}=e;0===F.length?B("collectionCreateOrEdit",{existingCollection:M,frontendContextUUID:void 0,searchTerm:W}):B("collectionSelectModal",{entryUUID:t,userCollections:F,currentCollection:M,searchTerm:W})},[M,F,B,W]),q=(0,i.useCallback)(async e=>{V({entryUUID:e,collectionSlug:null==M?void 0:M.slug}),Y("delete thread from history click",{entryUUID:e})},[null==M?void 0:M.slug,V,Y]),J=(0,i.useCallback)(()=>{R===s.DISCOVER&&Y("discover item click",{position:t,contextUUID:E})},[R,Y,t,E]);return(0,r.jsxs)(L.ZP,{className:"flex items-center gap-x-md py-md md:px-0",onClick:J,children:[(0,r.jsx)(k,{featuredImage:S,type:R,title:l,href:I}),(0,r.jsxs)("div",{className:"w-full grow",children:[(0,r.jsx)(a(),{href:I,className:"group block",children:(0,r.jsxs)(L.ZP,{className:"",children:[(0,r.jsxs)("div",{className:"flex items-center gap-x-md",children:[(0,r.jsx)(O.Z,{className:"grow",variant:"baseSemi",children:(0,r.jsx)("div",{"data-testid":"thread-title",className:"line-clamp-1 break-all transition duration-300 md:group-hover:text-super md:dark:group-hover:text-superDark",children:l})}),null!=D&&(0,r.jsx)(C.Z,{size:"small",user:D})]}),(0,r.jsx)(O.Z,{color:"light",className:"break-word mt-two line-clamp-2 text-balance",children:n})]})}),(0,r.jsx)("div",{className:Z?"mt-xs":"mt-sm",children:(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsx)(A,{threadCount:c,threadAccess:T,lastUpdated:b,socialInfo:y,focus:w}),(0,r.jsxs)("div",{className:"flex items-center gap-x-xs",children:[(null==P?void 0:P.title)&&R===s.LIBRARY&&(0,r.jsx)(a(),{href:"/collections/".concat(null==P?void 0:P.slug),className:"block",children:(0,r.jsx)(L.ZP,{className:"rounded-full border px-xs",children:(0,r.jsxs)(O.Z,{variant:"tiny",className:"flex cursor-pointer select-none items-center gap-x-xs px-sm py-xs transition duration-300 hover:opacity-70",testId:"thread-collection-pill",children:[(0,r.jsx)(p.B,{unified:P.emoji,size:"tiny"}),(0,r.jsx)("div",{className:"line-clamp-1",children:P.title})]})})}),Z&&!(null==P?void 0:P.title)&&(0,r.jsx)(z.Z,{testId:"add-to-collection",toolTip:X("addToCollection"),onClick:()=>$({entryUUID:U}),icon:_.faPlus,size:"small"}),(0,r.jsx)(g.Z,{show:Z,isBookmarked:null!=M,onDelete:()=>q(U),onAddToCollection:()=>$({entryUUID:U}),onSwapCollection:()=>$({entryUUID:U}),onRemoveFromCollection:()=>G({entryUUID:U,oldCollectionUUID:null==M?void 0:M.uuid,callback:()=>{R===s.COLLECTION&&H.push("/library")}}),currentCollection:M,rwToken:N,type:R})]})]})})]})]})};var B=l(29443),F=l(7552);(n=s||(s={})).LIBRARY="library",n.COLLECTION="collection",n.DISCOVER="discover",n.SEARCH="search",n.INCOGNITO_SEARCH="incognitoSearch";let W=e=>{let{threads:t,fetchNextPage:l,hasNextPage:n=!1,showLoadingState:s=!1,showEmptyState:i=!1,type:c}=e,a=(null!=t?t:[]).map(B.gN),d=(0,o.useTranslations)("threads.main");return i&&0===a.length?(0,r.jsx)(L.ZP,{variant:"offset",className:"mt-md flex items-center justify-center rounded p-xl",children:"collection"===c?(0,r.jsx)(O.Z,{color:"light",children:d("threadsPlaceholder")}):(0,r.jsx)(O.Z,{color:"light",children:d("noThreads")})}):(0,r.jsx)(F.D,{fetchNextPage:l,hasNextPage:n,showLoadingState:s,itemsToRender:a,children:(0,r.jsx)(L.ZP,{className:"divide-y",children:a.map((e,t)=>{var l;return(0,r.jsx)(M,{idx:t,href:e.href,rwToken:e.rwToken,title:e.title,preview:e.preview,threadCount:e.threadCount,lastUpdated:e.lastUpdated,copilot:e.copilot,focus:e.focus,socialInfo:e.socialInfo,threadAccess:e.threadAccess,authorImage:e.authorImage,featuredImage:null!==(l=e.featuredImage)&&void 0!==l?l:null,showActionMenu:"discover"!==c,type:c,entryUUID:e.entryUUID,contextUUID:e.contextUUID,collection:e.collection},e.entryUUID)})})})}},19381:function(e,t,l){var n=l(97458),s=l(820);l(52983);var r=l(67093),i=l(30505),o=l(25929),c=l(11556);t.Z=e=>{let{textVariant:t="baseSemi",textColor:l="default",focus:a}=e,{FocusConfigs:d}=(0,r.m)();return a&&a!==i.w.internet&&null!=d[a]?(0,n.jsx)(o.ZP,{children:(0,n.jsxs)(c.Z,{variant:t,color:l,className:"flex items-center gap-x-xs",children:[(0,n.jsx)(s.G,{size:"1x",icon:d[a].icon}),(0,n.jsx)("div",{children:d[a].text})]})}):null}},77267:function(e,t,l){l.d(t,{S:function(){return s}});var n=l(52983);let s=(e,t,l)=>{(0,n.useEffect)(()=>{let n=new IntersectionObserver(e=>{e.forEach(e=>{e.isIntersecting&&t()})},l),s=e.current;return s&&n.observe(s),()=>{s&&n.unobserve(s)}},[e,t,l])}},81773:function(e,t,l){var n=l(97458);l(52983);var s=l(11556),r=l(18661);t.Z=e=>{let{message:t,...l}=e;return(0,n.jsx)(r.Z,{title:void 0,subtitle:void 0,...l,children:(0,n.jsx)(s.Z,{variant:"section-title",className:"pb-md text-center",children:t})})}}}]);